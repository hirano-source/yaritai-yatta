# yaritai-yatta (やりたいやった)

---

## 1. ミッション

**「やりたいを、やったに。」**

SNSで「いいな」と思った瞬間。
「いつか行こう」で終わらせない。
ストックして、共有して、実際に「やった」に変える。

---

## 2. このアプリの哲学（表には出さない本質）

### 本当に解決したい問題

**「本音を言えない」**

- 空気を壊したくない
- 嫌われたくない
- 相手を傷つけたくない
- 自分が我慢すればいいと思ってる

結果、本音を飲み込み続けて、憤る。

### このアプリがやること

**「本音を、言わなくても伝える」**

- 直接「ここ行きたい」と言う → ハードル高い
- アプリにストックする → 自動で共有される
- 「○○さんがここ行きたいって」→ アプリが代わりに言ってくれる
- 本人は直接言わなくていい。でも本音は伝わる。

### ルーズルーズをウィンウィンに

**今の状況：**
- 親：「子供のために選んでる」（つもり）
- 子：「連れて行かれた」（感覚）
- 両方負け

**このアプリがあれば：**
- 親も「行きたい」を出す
- 子も「行きたい」を出す
- 重なったところに行く
- 両方勝ち

### 自己中じゃない。相互尊重。

日本の「誰かのため」文化と、西洋の「自分のため」文化のいいとこ取り。

- 自分も選ぶ
- 相手も選ぶ
- お互いの「選んだ」を尊重する
- 結果として「一緒に行く」が生まれる

---

## 3. プロダクト定義

**体験ストック × 共有 × 計画支援 × 実践サポート × 自動記録 を統合したAIハブアプリ**

| 役割 | 担うもの |
|------|----------|
| 発見 | インスタ、TikTok、X、YouTube |
| ストック＆共有＆引き出し | **このアプリ** |
| 友達追加 | LINE |
| 日程確認 | Googleカレンダー |
| 記録・余韻 | **このアプリ** |

---

## 4. 誰の何を解決するか

### ターゲット
**「やりたい」を「やった」に変えたい全ての人**

- 家族の予定を決める人
- 友人グループの幹事役
- 会社の飲み会や旅行を企画する人
- 「いいな」と思っても行動に移せない人
- 「どこでもいいよ」で終わる関係を変えたい人

### 抱えている課題

1. **「いいな」で終わる問題** - SNSで見つけた店、結局行かない
2. **「どこ行く？」「どこでもいいよ」問題** - 結局誰かが全部決める
3. **本音を言えない問題** - 「ここ行きたい」と言い出しにくい
4. **善意のすれ違い問題** - 親は「子供のため」、子は「連れて行かれた」
5. **体験が消える問題** - 行った場所、食べたもの、全部忘れる

---

## 5. 体験の4フェーズ

| フェーズ | 主体 | 楽しみ | このアプリの役割 |
|----------|------|--------|------------------|
| 0. 発見・ストック | 人間 | ワクワク | SNSから共有→ストック→「誰と？」を選ぶ |
| 1. 計画 | 人間＋AI | 妄想・共有 | ストックから引き出し→ルート化→共有 |
| 2. 実践 | 人間 | 体験そのもの | 動的しおり→写真/メモを投げるだけ |
| 3. 記録・余韻 | AI＋人間 | 振り返り | 自動ログ生成→可視化→共有 |

---

## 6. コアバリュー

1. **全員が選ぶ（子供も）** - 全員が「自分で選んだ」と思える
2. **本音が伝わる（言わなくても）** - アプリが代わりに伝える
3. **自分が主役（幹事構造）** - 自分が中心でグループをコントロール
4. **本音で選べる（デフォルト非公開）** - 共有は自分で決める
5. **知り合い限定（LINEの拡張）** - 既存の関係を深める

---

## 7. ユーザー構造

### 幹事構造
```
幹事（自分）
├── グループA：家族（妻、子供）
├── グループB：友人グループ
├── グループC：会社
└── グループD：一人用
```

### 権限
- 幹事：グループ作成、メンバー招待、全ストック閲覧、計画作成
- メンバー：ストック追加、「行きたい」反応、自分のストック管理
- 子供：ストック追加（親と同じ）、シンプルなUI

---

## 8. MVP定義（最初に作るもの）

### 優先度：高
1. ストック機能（URL共有→AI解析→保存→「誰と？」選択）
2. グループ＆共有（招待リンク、ストック閲覧、「行きたい」リアクション）
3. 引き出し＆提案（ストック一覧、フィルタ、AI提案）

### 優先度：中
4. 動的しおり
5. 写真の時系列保存
6. アンケート→自動ログ生成
7. カレンダー連携

### 優先度：低
8. 統計・可視化
9. 殿堂入りリスト
10. SNS共有機能

---

## 9. 技術スタック
- Next.js 16 (App Router)
- TypeScript
- Tailwind CSS
- ダミーデータ（Supabase接続前）

## 開発サーバー
```bash
cd yaritai-yatta
npm run dev
# http://localhost:3000
```

---

## 現在の実装状況（2025/01/11時点）

### 完了した機能
1. **グループ切り替え** - ヘッダーのセレクターで家族/高校の友達/会社を切り替え可能
2. **ストック一覧** - カード形式で表示、新着順/人気順ソート、カテゴリフィルタ
3. **未読バッジ** - BottomNavとホーム画面の「すべて見る」に未読数表示
4. **行きたいボタン** - シンプルなトグル式（グレー→オレンジ）

### 画面構成
- **ホーム** (`/`) - 新着ストック3件 + 進行中の計画
- **ストック** - 全ストック一覧、ソート、フィルタ
- **予定** - 計画詳細（しおり形式）
- **思い出** - 過去の思い出一覧
- **設定** - プロフィール設定

### 主要ファイル
```
src/
├── app/page.tsx           # メインオーケストレーター
├── components/
│   ├── layout/
│   │   ├── Header.tsx     # ヘッダー＋グループ切り替え
│   │   └── BottomNav.tsx  # 下部ナビ＋未読バッジ
│   ├── stock/
│   │   ├── StockScreen.tsx    # ストック一覧
│   │   └── AddStockModal.tsx  # 追加モーダル
│   ├── ui/
│   │   └── HomeScreen.tsx # ホーム画面
│   ├── plan/
│   │   └── PlanScreen.tsx # 予定画面
│   └── memory/
│       └── MemoryScreen.tsx
├── lib/mock-data.ts       # ダミーデータ
└── types/index.ts         # 型定義
```

---

## 今回のセッションで行った変更

### 1. UI用語の日本語統一
- BottomNav: ホーム, ストック, 予定, 思い出, 設定
- HomeScreen: 「みんなの行きたい！」

### 2. リアクションボタンのシンプル化
**試した案:**
- 3段階リアクション（気になる→行きたいかも→絶対行きたい！）→ 複雑でわかりづらい
- タップごとにレベルアップ + ヒント表示 → 説明文が小さくて読めない
- スライダー式 → 操作が面倒

**最終決定:**
シンプルな「行きたい」ボタン（トグル式）
- 押す前: グレー「👀 行きたい」
- 押した後: オレンジ「🔥 行きたい！」

### 3. 統一した変更箇所
- `StockScreen.tsx` - 行きたいボタン実装
- `HomeScreen.tsx` - 同じボタンテキストに統一

---

## 次回やること候補
- [ ] ストック詳細画面の実装
- [ ] ストック追加モーダルの完成
- [ ] 予定画面の改善
- [ ] Supabase連携（認証、データ保存）
- [ ] グループ作成・招待機能

---

## アプリ全体構造

### ディレクトリ構成
```
yaritai-yatta/
├── src/
│   ├── app/
│   │   ├── layout.tsx      # 共通レイアウト（フォント、メタデータ）
│   │   └── page.tsx        # メインページ（オーケストレーター）
│   ├── components/
│   │   ├── layout/
│   │   │   ├── Header.tsx      # ヘッダー + グループ切り替えドロップダウン
│   │   │   └── BottomNav.tsx   # 下部ナビ（5タブ + 中央の追加ボタン）
│   │   ├── stock/
│   │   │   ├── StockScreen.tsx     # ストック一覧画面
│   │   │   └── AddStockModal.tsx   # ストック追加モーダル
│   │   ├── ui/
│   │   │   ├── HomeScreen.tsx      # ホーム画面
│   │   │   └── ProfileScreen.tsx   # 設定画面
│   │   ├── plan/
│   │   │   └── PlanScreen.tsx      # 予定・しおり画面
│   │   └── memory/
│   │       └── MemoryScreen.tsx    # 思い出画面
│   ├── lib/
│   │   ├── mock-data.ts    # ダミーデータ（グループ、ストック、計画）
│   │   └── supabase.ts     # Supabaseクライアント（未使用）
│   └── types/
│       └── index.ts        # 全型定義
├── public/                 # 静的アセット
├── tailwind.config.ts
└── package.json
```

### 主要な型定義（types/index.ts）
```typescript
Group = 'family' | 'friends' | 'work' | 'solo'
Tab = 'home' | 'stock' | 'plan' | 'memory' | 'profile'
StockCategory = 'gourmet' | 'travel' | 'outing' | 'event'
StockStatus = 'active' | 'done' | 'archived'
PlanStatus = 'planning' | 'confirmed' | 'done'

// 主要インターフェース
StockItem     # ストック情報（場所、カテゴリ、行きたい数など）
PlanItem      # 計画情報（日程、メンバー、行程など）
Memory        # 思い出（テキスト/マンガ/動画）
```

### データの流れ
```
page.tsx（状態管理）
  ├── activeTab: 現在のタブ
  ├── currentGroup: 選択中のグループ
  ├── filteredStocks: グループでフィルタしたストック
  └── filteredPlans: グループでフィルタした計画
       │
       ├── Header（グループ切り替え）
       ├── 各Screen（データ表示）
       └── BottomNav（タブ切り替え）
```

---

## 設計メモ

### グループの考え方
- グループ内はみんなで行く前提
- 「行きたい」は興味の温度感を示すシンプルな1段階
- 3段階リアクションは複雑すぎた → シンプルなトグルに決定

### UI原則
- 1画面1目的
- 迷わせない
- 専門用語禁止
- ITリテラシーが高くない人向け

### コンポーネント設計
- page.tsxは指揮者、状態管理のみ
- 各Screenは独立したコンポーネント
- 共通UIはlayout/に配置

### 今回のUI決定事項
- **リアクションはシンプルに**：3段階やスライダーは複雑。トグル式「行きたい」ボタンで十分
- **用語は日本語**：ローマ字表記（Nori, Furi等）はわかりにくい
- **セクションタイトル**：「みんなの行きたい！」が採用
